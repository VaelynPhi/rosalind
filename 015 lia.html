<html><head><script type="text/ecmascript" src="/libs/jquery.js"></script><script type="text/ecmascript">

// function hasDominant(p){
// 	var domp = [ 1,1,1,.75,.5,0];
// 	var dp = 0;
// 	for(var i=0; i<domp.length; i++){
// 		dp += 2*p[i]*domp[i];
// 	}
// 	return dp;
// }

function punnett(A,B){
	// $("#results").append(" A: "+ JSON.stringify(A) +"\n");
	// $("#results").append(" B: "+ JSON.stringify(B) +"\n");
	return [ [A[0],B[0]], [A[0],B[1]], [A[1],B[0]], [A[1],B[1]] ];
}

function geneEqual(a,b){
	var eq = ( (a[0]==b[0] && a[1]==b[1]) || (a[0]==b[1] && a[1]==b[0]) );
	// $("#results").append(" =? "+ JSON.stringify(a) +" / "+ JSON.stringify(a) +" = "+ eq +"\n");
	// return ( (a[0]==b[0] && a[1]==b[1]) || (a[0]==b[1] && a[1]==b[0]) );
	return eq;
}

function onePunnett(A,B,C){
	return [punnett(A,B).reduce(function(previous, v){
		var ge = geneEqual(v,C);
		// if(geneEqual(v,C)) previous++;
		if(ge) previous++;
		// $("#results").append(" - "+ JSON.stringify(v) +" / "+ JSON.stringify(C) +" = "+ ge +" / "+ previous +"\n");
		return previous;
	}, 0),4];
}

function twoPunnett(A, B, C){
	return A.reduce(function(previous, v, i){
		var op = onePunnett(A[i], B[i], C[i]);
		previous[0]*=op[0];
		previous[1]*=op[1];
		// previous.push(op);
		return previous;
	},[1,1]);
}

$(function(){
	var tom = [ [ true, false ], [ true, false ] ];
	// var g1 = onePunnett(tom[0], tom[0], tom[0]);
	// $("#results").append(g1[0]+"/"+g1[1] +"\n");

	var g1 = twoPunnett(tom,tom,tom);
	$("#results").append( JSON.stringify(g1) +"\n");
});


</script></head><body><pre id="results"></pre></body></html>